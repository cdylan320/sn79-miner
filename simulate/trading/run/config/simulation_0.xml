<Simulation id="{{BG_CONFIG}}" start="0" step="1000000000" duration="86400000000000"
    logWindow="3600000000000" timescale="ns"
    enableCheckpointing="0" traceTime="1" debug="0" error="1" blockCount="8"
    host="localhost" port="8000" bookStateEndpoint="/orderbook"
    generalMsgEndpoint="/account" useMessagePack="1" measureStepWallClockTime="1">
    <Agents>
        <MultiBookExchangeAgent name="EXCHANGE" remoteAgentCount="256" gracePeriod="600000000000"
            priceDecimals="2" volumeDecimals="4" baseDecimals="4" quoteDecimals="10"
            maxLeverage="4" maxLoan="10000" maintenanceMargin="0.10" maxOpenOrders="100"
            initialPrice="300.0" minOrderSize="1.0">
		     <FeePolicy type="dynamic" historySlots="300"
                makerFee="0.000" takerFee="0.00023" maxMakerRate="0.0075" maxTakerRate="0.0075"
                targetMTR="0.4" shapeMakerFee="2" shapeMakerRebate="2"/>
            <Books instanceCount="5" algorithm="PriceTime" maxDepth="21" detailedDepth="5">
                <Processes>
                    <FundamentalPrice name="fundamental" seedInterval="30000000000" mu="0.0" sigma="0.068"
                        lambda="0.00206" muJump="0.0" sigmaJump="0.025" updatePeriod="30000000000"
                        Hurst="0.80" epsilon="0.07"/>
                    <FuturesSignal name="external" lambda="0.001155" seedInterval="10000000000" updatePeriod="10000000000"/>
                    <MagneticField name="magneticfield" numRows="32" beta="1.0" alpha="20.0" 
                        updatePeriod="60000000000"/>
                </Processes>
            </Books>
            <Balances
                type="pareto"
                scale="1.0"
                shape="2.0"
                seed="1337"
                wealth="100000.0"
                price="300.0">
            </Balances>
            <Logging startDate="2025-05-07 00:00:00">
                <L2 depth="5" />
                <L3 />
                <FeeLog />
            </Logging>
        </MultiBookExchangeAgent>
        <InitializationAgent
            name="INITIALIZATION_AGENT"
            instanceCount="500"
            exchange="EXCHANGE"
            tau="86400000000000">
            <Balances>
                <Base total="100.0" maxLeverage="0" maxLoan="0" />
                <Quote total="30000.0" maxLeverage="0" maxLoan="0" />
            </Balances>
        </InitializationAgent>
        <ALGOTraderAgent
            name="ALGO_TRADER_AGENT"
            instanceCount="1"
            exchange="EXCHANGE"
            MFLmean="100000000"
            MFLstd="25000000"
            volumeStatsPeriod="30000000000"
            updateInterval="60000000000"
            updateSTD="10000000000"
            minOPLatency="90000000"
            maxOPLatency="5000000000"
            depth="21"
            volumeDrawRayleighScale="5000.0"
            alpha="0.2"
            beta="0.7"
            gammaX="0.2"
            omega="0.00000001"
            activationMidpoint="0.025"
            activationRate="100.0"
            immediateBase="600.0"
            wakeupTimeCoef="259200000000000"
            >
            <VolumeDistribution type="lognormal" mu="2.0" sigma="0.9"/>
              <Balances>
                <Base total="167000.0" maxLeverage="1" maxLoan="10000"/>
                <Quote total="50000000.0" maxLeverage="1" maxLoan="10000"/>
            </Balances>
        </ALGOTraderAgent>     
        <HighFrequencyTraderAgent
            name="HIGH_FREQUENCY_TRADER_AGENT"
            instanceCount="10"
            exchange="EXCHANGE"
            debug="0"
            minMFLatency="100000000"
            minOPLatency="1000000"
            maxOPLatency="50000000"
            opLatencyScaleRay="0.235"
            tau="1"
            delta="750000000"
            psiHFT_constant="250"
            gHFT="0.5"
            sigmaSqr="0.01"
            kappa="1.6"
            spread="0.0015"
            orderMean="2.3"
            orderSTD="1.0"
            noiseRay="0.23"
            shiftPercentage="0.05"
            sensitivityCoef="100.0"
            spreadSensitivityExp="1.5"
            spreadSensitivityBase="0.00015"
            rateMax="0.0075"
            marginNoiseSTD="0.00001"
            >
            <Balances>
                <Base total="500" maxLeverage="4" maxLoan="10000" />
                <Quote total="150000.0" maxLeverage="4" maxLoan="10000" />
            </Balances>
        </HighFrequencyTraderAgent>
        <NoiseTraderAgent
			name="NOISE_TRADER_AGENT"
			instanceCount="1024"
			exchange="EXCHANGE"
			debug="0"
			MFLmean="1500000000"
			MFLstd="167000000"
			minOPLatency="90000000"
			maxOPLatency="300000000"
			meanVolume="2.3"
            tau="1800000000000"
            balanceCoef="0.90"
            acdOmega="2.3"
			acdAlpha="0.45"
			acdBeta="0.45"
            acdGamma="15.0"
            sigmaExp="0.0000001"
            weight="1.0"
            minDMD="2000000000"
            maxDMD="600000000000"
			>
            <Balances
                type="pareto-50"
                scale="0.8"
                shape="1.16"
                seed="1337"
                wealth="15000.0"
                cap="1000000.0"
                price="300.0"
            />
		</NoiseTraderAgent>
        <FuturesTraderAgent
            name="FUTURES_TRADER_AGENT"
            instanceCount="100"
            exchange="EXCHANGE"
            debug="0"
            delayMean="5000000000"
            delaySTD="500000000"
            MFLmean="250000000"
            MFLstd="50000000"
            minOPLatency="90000000"
            maxOPLatency="300000000"
            sigmaN="0.7"
            volume="8.0"
            orderTypeProb="0.5"
            sigmaEps="0.5">
            <Balances>
                <Base total="500" maxLeverage="1" maxLoan="10000" />
                <Quote total="150000.0" maxLeverage="1" maxLoan="10000" />
            </Balances>
        </FuturesTraderAgent>
        <StylizedTraderAgent
            name="STYLIZED_TRADER_AGENT"
            instanceCount="1000"
            exchange="EXCHANGE"
            debug="0"
            MFLmean="250000000"
            MFLstd="50000000"
            minOPLatency="90000000"
            maxOPLatency="300000000"
            opLatencyScaleRay="0.235"
            delayMean="10000000000"
            delaySTD="1000000000"
            sigmaN="0.7"
            sigmaC="2.3"
            sigmaF="5.0"
            tau="600000000000"
            tauHist="50"
            tauF="1"
            volGuard="0.000001"
            sigmaEps="0.002"
            r_aversion="100000"
            HARA="2.0"
            GBMSigma="0.01"
            regimeChangeFlag="0"
            pO_alpha="0.0">
            <Balances
                type="pareto-50"
                scale="0.8"
                shape="1.16"
                seed="1337"
                wealth="20000.0"
                cap="3000000.0"
                price="300.0"
            />
        </StylizedTraderAgent>
        <DistributedProxyAgent />
    </Agents>
</Simulation>
